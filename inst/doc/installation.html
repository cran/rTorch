<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Installation</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      </style>





<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Installation</h1>



<div id="pytorch-installation" class="section level2">
<h2>PyTorch installation</h2>
<div id="installing-python-and-pytorch" class="section level3">
<h3>Installing Python and PyTorch</h3>
<p>Although, <em>Python</em> and <em>PyTorch</em> can be installed directly from the <em>R</em> console, before start running <code>rTorch</code>, I would recommend installing <strong>PyTorch</strong> first in a new Python or Python-Anaconda environment. Then, testing if PyTorch and Torchvision packages are imported alright. The advantage of doing it this way is that you define in advanced the base Python or Anaconda version to install. Although the same can be done from <strong>rTorch</strong> you will need to get familiar passing parameters through one its functions.</p>
<p>If you opt to install <em>PyTorch</em> from <em>R</em>, <strong>rTorch</strong> has functions that could help you install <em>PyTorch</em> from the <em>R</em> console.</p>
</div>
<div id="rtorch-functions-to-install-pytorch" class="section level3">
<h3>rTorch functions to install PyTorch</h3>
<div id="install_pytorch" class="section level4">
<h4>install_pytorch</h4>
<p>This function is public and can be invoked with <code>rTorch::install_pytorch()</code>.</p>
<p>This function will allow you to indicate (i) the Python version; (ii) the PyTorch version; (iii) the name of the conda environment; (iv) which channel (<code>stable</code> or <code>nightly</code>); (v) if you require CUDA (GPU) computation; (vi) additional packages such as <code>matplotlib</code>, <code>pandas</code>; (vii) more.</p>
<pre><code>install_pytorch(
  method = c(&quot;conda&quot;, &quot;virtualenv&quot;, &quot;auto&quot;),
  conda = &quot;auto&quot;,
  version = &quot;default&quot;,
  envname = &quot;r-torch&quot;,
  extra_packages = NULL,
  restart_session = TRUE,
  conda_python_version = &quot;3.6&quot;,
  pip = FALSE,
  channel = &quot;stable&quot;,
  cuda_version = NULL,
  dry_run = FALSE,
  ...
)
</code></pre>
</div>
</div>
</div>
<div id="manual-installation-of-pytorch-in-a-conda-environment" class="section level2">
<h2>Manual installation of <em>PyTorch</em> in a <em>conda</em> environment</h2>
<p>If you prefer do it manually, use this example:</p>
<ol style="list-style-type: decimal">
<li><p>Create a conda environment with <code>conda create -n my-torch python=3.7 -y</code></p></li>
<li><p>Activate the new environment with <code>conda activate my-torch</code></p></li>
<li><p>Inside the new environment, install <em>PyTorch</em> and related packages with:</p></li>
</ol>
<p><code>conda install python=3.6 pytorch torchvision matplotlib pandas -c pytorch</code></p>
<blockquote>
<p>Note: If you you don’t specify a version, <code>conda</code> will install the latest <em>PyTorch</em>. As of this writing (August-September 2020), the latest <em>PyTorch</em> version is 1.6.</p>
</blockquote>
<p>Alternatively, you could create and install a <em>conda</em> environment a specific <strong>PyTorch</strong> version with:</p>
<p><code>conda create -n my-torch python=3.6 pytorch=1.3 torchvision matplotlib pandas -c pytorch -y</code></p>
<p><code>conda</code> will resolve the dependencies and versions of the other packages automatically, or let you know your options.</p>
<p><strong>Note.</strong> <code>matplotlib</code> and <code>pandas</code> are not really necessary, but I was asked if <code>matplotlib</code> or <code>pandas</code> would work in PyTorch. Then, I decided to put them for testing and experimentation. They both work.</p>
</div>
<div id="automatic-python-detection" class="section level2">
<h2>Automatic Python detection</h2>
<p>In <strong>rTorch</strong> there is an automatic detection of <em>Python</em> built in in the package that will ask you to install <code>Miniconda</code> first if you don’t have any Python installed in your machine. For instance, in <code>macOS</code>, Miniconda will be installed under <code>PREFIX=/Users/user_name/Library/r-miniconda</code>.</p>
<p>After <em>Miniconda</em> is installed, you could proceed to install the flavor or <em>PyTorch</em> you want, and the packages you want, with a command like this:</p>
<pre><code>rTorch:::install_conda(package=&quot;pytorch=1.4&quot;, envname=&quot;r-torch&quot;, conda=&quot;auto&quot;, conda_python_version = &quot;3.6&quot;, pip=FALSE, channel=&quot;pytorch&quot;, extra_packages=c(&quot;torchvision&quot;, &quot;cpuonly&quot;, &quot;matplotlib&quot;, &quot;pandas&quot;))</code></pre>
<p>The command above will install the <strong>stable</strong> <strong>PyTorch 1.4</strong> version on <strong>Python 3.6</strong>, including three additional packages: <code>torchvision</code>, <code>cpuonly</code>, <code>matplotlib</code> and <code>pandas.</code></p>
<blockquote>
<p>NOTE. My experience with <code>Miniconda</code> is spotty and not 100% reliable, specially in <em>macOS</em>. I would strongly recommend using full <em>conda</em> for your PyTorch installation.</p>
</blockquote>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
